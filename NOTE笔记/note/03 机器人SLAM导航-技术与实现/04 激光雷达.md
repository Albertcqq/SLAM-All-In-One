# 4 激光雷达
激光雷达测距方式主要是三角测距和ToF(time of fly飞行时间)测距2种方式。
激光探头需要旋转起来，形成广泛范围的扫描探测。
根据激光束数量：分单线激光和多线激光雷达，
还有一些常规的激光雷达：固态激光雷达，单线多自由度旋转激光雷达，面激光束雷达。

在软件成面：在上位机电脑上运行ROS驱动程序获得雷达扫描数据，对扫描的数据进行滤波等必要的数据处理。

## 4.1 测量原理
### 4.1.1 三角测量
  物体越远，测距误差越大。 三角形相似原理
  
 ### 4.1.2 ToF
 激光束发射时机记时，光传播速度太快，获取时间太难了，成本高，精度也高。
 
 ### 4.1.3 扫描原理
 
 ### 单线激光雷达
 单线激光雷达又称2D激光雷达，同一平面的360°
 
 ### 多线激光雷达
 3D激光雷达
 
 ## 4.2 性能参数
 
   激光线数：指测距模组发射激光束的个数。有单线，16线，32、64、128线等，线数越多，扫描信息越多。
   测距频率：测距模组的采样率，每秒模组组成完成的测距操作次数。一般低成本能够达到4Khz的采样率。
   扫描频率：旋转电机每秒转过的圈数，
   测距量程：一般低成本0.15-10m
   扫描角度：雷达探测的视野，通常360°
   测距分辨率：也就是测距精度，一般低成本雷达时5cm左右的精度，ToF科达到毫米级
   
## 4.3 数据处理
ros中/scan的标准数据格式有LaerScan、MultiEchoLaser'scan、PointCloud2等格式。

单线一般LaerScan格式，多线一般发布格式：PointCloud2类型。

### 4.3.1 单线LaerScan数据类型
用极坐标表示扫描点的坐标值
#### 数据处理：
过滤掉特定范围内的无效点，扫描角度的范围截取，插值。
ros中laser_filters功能包对LaerScan类型数据进行处理。（滤波函数）

### 4.3.1 多线LPointCloud2数据类型
PCL点云库，包含点云滤波、特征点提取、点云配准、点云分割、点云曲面重建等

### 4.3.2 点云数据畸变校准
#### 纯估计法：
利用估计的运动信息对雷达扫描数据进行补偿，就是纯估计法。
ICP改进VICP速度更新最近邻点迭代
#### 里程计辅助法
