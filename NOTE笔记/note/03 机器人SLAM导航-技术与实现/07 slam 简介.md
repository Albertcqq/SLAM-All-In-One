# 7 slam



## 7.1 slam发展史
最初，机器人定位问题，和机器建图问题被看作2个对立的问题，
定位：知道环境地图。（环境中的蓝牙标签，二维码）
建图：知道全局位姿。（GPS）

这种传统的定位与建图模型问题，通常是基于模型的，
eg：定位为例，只要构建了机器人的运动数学模型，利用运动信息就能推测出机器人将来任意时刻的位姿，引入少量的观测反馈对模型进行修正即可。这种模型没有考虑机器人在实际情况下的不确定因素。如传感器误差，电机控制偏差，计算机计算精度近似等。

将机器人放在未知环境，前面2个问题就解决不了。（火星探测车，地下岩洞作业等场景）
没有地图，如果求解位姿，没有位姿，如何求解地图。

1986年，smith和Cheeseman将机器人定位问题和建图问题放在基于概率理论框架进行研究，
	第一个采用基于概率论理论框架对机器人的不确定性进行讨论；
	将定位与建图中见七日位姿量和地图路标点作为统一的估计量进行整体状态估计。
	
2006 年，首次使用slam这个词，并对slam中计算效率，数据关联，收敛性，一致性进行讨论
	认为这是slam问题的真正进入系统性研究的元年。
	
古典的方法都是滤波方式的一种在线slam系统，
优化方法是一种完全slam系统（糟糕的实时性）
	随着优化的方法在稀疏性，和增量求解的突破，以及闭环的检测，基于视觉传感器的优化方法成为现代SLAM研究主流方向。
	
2016年，ORB_SLAM2开源问世，学术界和商业界极大的鼓舞。

### 7.1.1 数据关联
slam建图是一个增量过程，所谓数据关联，就是将传感器观测数据与已构建出来的地图进行匹配，判断传感器观测数据中哪些路标特征是新的，哪些是旧的，并将新的路标点数据融入地图中。

### 7.1.2 收敛
 给机器人足够的机会对环境进行彻底的观测，所得到地图的不确定性将最终消失，即构建出来的地图路标点特征收敛于实际环境特征
 
 ### 7.1.3 一致性
 收敛一致性讨论的是估计量收敛与实际数值的问题。
 
 ## 7.2 slam基本理论
 
 ### 7.2.1 Gmapping算法
 滤波方法->激光->占据栅格地图
 
 ### 7.2.2 ORB_SLAM算法
优化方法->视觉->路标特征地图

slam是一个状态估计问题，求解方法不同分2种：
滤波方法（增量算法），
	实时在线更新位姿和地图点
优化方法（最小二乘问题）
	两者最大的区别：最大似然和最小二乘的区别。
	
	
## 7.3 主流框架
### 7.3.1 激光slam
   基于粒子滤波：gmapping  ，基于滤波的方法，无法构建大规模的地图
   室内场景：cartographer      兼具建图和重定位功能
   室外场景：LOAM   多线雷达激光
   
### 7.3.2 视觉slam
   直接法：LSD_SLAM
   半直接法：SVO_SLAM
   稀疏特征点法：ORB_SLAM
### 7.3.3 混合slam
   激光+视觉：rtabmap
   IMU+视觉：VINS
### 7.3.4 结合深度学习slam
   基于深度学习端到端：DeepVO
   基于模式识别的语义法：CNN-SLAM
